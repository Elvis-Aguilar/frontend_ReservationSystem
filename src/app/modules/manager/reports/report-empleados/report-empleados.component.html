<main>
    <div class="header">
        <h2>Reporte de General de Empleados</h2>
        <button class="text-sm py-2 px-2 bg-purple-600 text-white rounded hover:bg-purple-700"
            (click)="realizarReport()">Realizar Reporte</button>
        @if (clientReport.length > 0) {
        <button class="text-sm py-2 px-2 bg-blue-600 text-white rounded hover:bg-blue-700"
            (click)="exportPDf()">Exportar PDF</button>
        <button class="text-sm py-2 px-2 bg-green-600 text-white rounded hover:bg-green-700"
            (click)="exportExcel()">Exportar Excel</button>
        <button class="text-sm py-2 px-2 bg-slate-500 text-white rounded hover:bg-slate-700"
            (click)="exportPNG()">Exportar PNG</button>
        }
    </div>

    <div class="filter-bar">

        <div class="filter-group">
            <label for="filter-type">Filtrar por:</label>
            <select id="filter-type" name="filter-type" [(ngModel)]="selectedFilter">
                <option value="Todos">TODOS</option>
                <option value="Mal-Uso">Cancelados</option>
            </select>
        </div>

        <div class="filter-group">
            <label for="start-date">Fecha de inicio:</label>
            <input id="start-date" type="date" name="start-date" [(ngModel)]="startDate">
        </div>

        <div class="filter-group">
            <label for="end-date">Fecha final:</label>
            <input id="end-date" type="date" name="end-date" [(ngModel)]="endDate">
        </div>
    </div>
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>#</th>
                    <th>Nombre</th>
                    <th>email</th>
                    <th>cui</th>
                    <th>Cantidad citas</th>
                </tr>
            </thead>
            <tbody>
                @for (item of clientReport; track $index) {
                <tr>
                    <td>{{$index+1}}</td>
                    <td>{{item.Nombre}}</td>
                    <td>{{item.email}}</td>
                    <td>{{item.cui}}</td>
                    <td>{{item.Cantidad}}</td>
                </tr>
                }
            </tbody>
        </table>
    </div>
</main>